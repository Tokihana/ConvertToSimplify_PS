# 动机

因为每次都忘记检查校对稿是不是简体，经常嵌到一半返工。所以写个脚本自动化改psd里面的繁体文本框。

不一定很好用，但聊胜于无。

# 如何使用

在PS中，文件 > 脚本 > 浏览，打开`Convert.js`文件，在随后的弹窗中选择需要转换的PSD文件所在的文件夹即可。

注意文件目录中不可以有中文。

# Debug

调用脚本后，检查psd目录下：

1. output未正常生成。则调用python脚本出问题，检查文件路径
2. psd文本变成空。没有正确convert，可能是调用py脚本问题，也可能py脚本内opencc没有正确转换，需要检查编码。
3. `SyntaxError: Non-UTF-8 code starting with '\xe6' in file`，一般是中文字符问题，脚本和psd路径都不要有中文， 可能会有不可预想的bug。

代码运行后，需要检查是否有缺字，以及部分字符样式可能需要重设（已知有标准罗马对齐，比例间距等，换行符等）。这个问题已经解决了。

# 2023/7/3 Fixed

1. 不能保留字符样式和段落样式。

   能够保存整个文本框的样式和对某些字词的特殊处理，不过，如果因为缺字导致PS应用了默认字符，也会被认为是特殊处理并保留，在使用后还需要检查。

1. 字符转换会将换行转换为不可读样式。

   这个问题是因为换行符是`\r`，而不是`\n`，因此需要用.replace()`改过来。
